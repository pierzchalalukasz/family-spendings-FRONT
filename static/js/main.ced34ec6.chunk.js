(this["webpackJsonpfamily-spendings-front"]=this["webpackJsonpfamily-spendings-front"]||[]).push([[0],{106:function(e,t,a){e.exports=a.p+"static/media/SignUpSuccess.cfd78acb.svg"},116:function(e,t,a){e.exports=a(150)},125:function(e,t,a){},150:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(9),c=a.n(i),l=a(19),s=a(46),o=a(94),u=a(6),m={isAppInitialized:!1},d={token:localStorage.getItem("token"),isAuthenticated:!1,user:null,isLoading:!1},p={family:{_id:void 0,name:"",budget:0},isLoading:!1},g=Object(s.c)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_APP":return Object(u.a)(Object(u.a)({},e),{},{isAppInitialized:!0});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOADING":return Object(u.a)(Object(u.a)({},e),{},{isLoading:!0});case"USER_LOADED":return Object(u.a)(Object(u.a)({},e),{},{isAuthenticated:!0,isLoading:!1,user:t.payload});case"USER_NOT_LOADED":return Object(u.a)(Object(u.a)({},e),{},{isLoading:!1});case"LOGIN_SUCCESS":return localStorage.setItem("token",t.payload.token),Object(u.a)(Object(u.a)(Object(u.a)({},e),t.payload),{},{isAuthenticated:!0,isLoading:!1});case"LOGOUT_SUCCESS":return localStorage.removeItem("token"),Object(u.a)(Object(u.a)({},e),{},{token:null,user:null,isAuthenticated:!1,isLoading:!1});default:return e}},family:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING_FAMILY":return Object(u.a)(Object(u.a)({},e),{},{isLoading:!0});case"GET_FAMILY":return Object(u.a)(Object(u.a)({},e),{},{family:t.payload,isLoading:!1});case"GET_BUDGET":return Object(u.a)(Object(u.a)({},e),{},{family:Object(u.a)(Object(u.a)({},e.family),{},{budget:t.payload})});default:return e}}}),f=[o.a],b="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):s.d,h=Object(s.e)(g,{},b(s.a.apply(void 0,f))),E=(a(125),a(15)),y=a(16),v=a(18),O=a(17),j=a(21),x=a(14),S=a(27),w=(a(129),a(95)),C=a.n(w).a.create({baseURL:"https://family-spendings.azurewebsites.net/"}),N=function(e){var t=e().auth.token,a={headers:{"Content-type":"application/json"}};return t&&(a.headers.Authentication=t),a},F=a(71),I=a(25),k=a(70),A=a(180),L=a(26),_=a(182),D=a(184),T=a(185),U=a(199),G=a(186),P=a(187),B=a(188),q=a(189),M=a(190),W=a(3),z=a(100),R=a.n(z),H=a(101),Y=a.n(H),$=a(103),X=a.n($),J=a(104),V=a.n(J),K=a(105),Q=a.n(K),Z=a(102),ee=a.n(Z),te=a(99),ae=a.n(te),ne=Object(A.a)((function(e){return{root:{display:"flex",width:"100%"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(u.a)(Object(u.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},title:{flexGrow:1},link:{color:"#fff",textDecoration:"none",padding:".5em 1em",margin:"0 .5em",border:"1px solid #f2f2f2"},btn:{marginLeft:"2em"},adminPanelLabel:{fontWeight:"bold",color:"#707070",marginLeft:"1em"},list:{display:"flex",flexDirection:"column",justifyContent:"space-between",height:"100%"}}})),re=function(e){var t=e.user,a=e.family,n=e.logout,i=e.history,c=ne(),l=Object(L.a)(),s=r.a.useState(!1),o=Object(k.a)(s,2),u=o[0],m=o[1],d=function(e){i.location.pathname!==e&&i.push(e)};return r.a.createElement("div",{className:c.root},r.a.createElement(_.a,{position:"fixed",className:Object(W.a)(c.appBar,Object(I.a)({},c.appBarShift,u))},r.a.createElement(D.a,null,t&&r.a.createElement(T.a,{edge:"start",className:c.menuButton,onClick:function(){m(!0)},color:"inherit","aria-label":"menu"},r.a.createElement(ae.a,null)),r.a.createElement(F.a,{variant:"h6",className:c.title},"Family Spendings"),t&&a?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex",flexDirection:"column",marginRight:"2em"}},r.a.createElement(F.a,{style:{fontSize:".6rem"}},"Family budget"),r.a.createElement(F.a,null,a.budget,"$")),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",marginRight:"1em"}},r.a.createElement(F.a,{style:{fontSize:".6rem"}},"Logged as"),r.a.createElement(F.a,null,t.name))):r.a.createElement(r.a.Fragment,null,r.a.createElement(j.b,{className:c.link,to:"/signup",color:"inherit"},"SIGN UP"),r.a.createElement(j.b,{className:c.link,to:"/signin",color:"inherit"},"SIGN IN")))),t&&r.a.createElement(U.a,{className:c.drawer,variant:"persistent",anchor:"left",open:u,classes:{paper:c.drawerPaper}},r.a.createElement("div",{className:c.drawerHeader},r.a.createElement(T.a,{onClick:function(){m(!1)}},"ltr"===l.direction?r.a.createElement(R.a,null):r.a.createElement(Y.a,null))),r.a.createElement(G.a,null),r.a.createElement(P.a,{className:c.list},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(F.a,{className:c.adminPanelLabel,variant:"overline"},"User Panel")),r.a.createElement(G.a,null),r.a.createElement(B.a,{button:!0,key:"dashboard",onClick:function(){return d("/dashboard")}},r.a.createElement(q.a,null,r.a.createElement(ee.a,null)),r.a.createElement(M.a,{primary:"Dashboard"})),r.a.createElement(B.a,{button:!0,key:"add-spending",onClick:function(){return d("/add-spending")}},r.a.createElement(q.a,null,r.a.createElement(X.a,null)),r.a.createElement(M.a,{primary:"Add spending"})),t.isAdmin&&r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,null,r.a.createElement("div",null,r.a.createElement(F.a,{className:c.adminPanelLabel,variant:"overline"},"Admin Panel")),r.a.createElement(G.a,null),r.a.createElement(B.a,{button:!0,key:"add-fund",onClick:function(){return d("/add-fund")}},r.a.createElement(q.a,null,r.a.createElement(V.a,null)),r.a.createElement(M.a,{primary:"Add fund"}))))),r.a.createElement("div",null,r.a.createElement(G.a,null),r.a.createElement(B.a,{button:!0,key:"logout",onClick:function(){return n()}},r.a.createElement(q.a,null,r.a.createElement(Q.a,null)),r.a.createElement(M.a,{primary:"Logout"}))))))};re.defaultProps={user:null};var ie=Object(x.g)(Object(l.b)((function(e){return{user:e.auth.user,family:e.family.family}}),{logout:function(){return{type:"LOGOUT_SUCCESS"}}})(re)),ce=function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{style:{marginTop:"64px"}},r.a.createElement(ie,null),r.a.createElement(F.a,{variant:"h1",align:"center"},"Welcome to"),r.a.createElement(F.a,{variant:"h1",align:"center"},"Family Spendings"))}}]),a}(n.Component),le=a(191),se=a(53),oe=a(196),ue=a(152),me=a(197),de=a(193),pe=a(24),ge=a.n(pe),fe=a(36),be=a(195),he=a(192),Ee=a(4),ye=function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).onFieldChange=function(e){return function(t){var a=t.target.value;n.setState((function(t){return Object(u.a)(Object(u.a)({},t),{},{values:Object(u.a)(Object(u.a)({},t.values),{},Object(I.a)({},e,a))})}))}},n.renderField=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.a.createElement(be.a,Object.assign({onChange:n.onFieldChange(e),variant:"standard",label:t,fullWidth:!0},a))},n.onSubmit=function(){var e=Object(fe.a)(ge.a.mark((function e(t){var a,r;return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n.setState({loading:!0}),a=n.state.values,e.prev=3,e.next=6,C.post("/user",a);case 6:n.setState({loading:!1}),e.next=14;break;case 9:return e.prev=9,e.t0=e.catch(3),S.NotificationManager.error(e.t0.response.data.message,"Error ".concat(e.t0.response.data.code),5e3),n.setState({loading:!1}),e.abrupt("return",null);case 14:return r=n.props.history,e.abrupt("return",r.replace("/signup-success"));case 16:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}(),n.state={values:{isAdmin:!1},loading:!1},n}return Object(y.a)(a,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement(le.a,{className:e.gridContainer,container:!0,spacing:2,align:"center"},r.a.createElement(le.a,{style:{padding:".25em"},item:!0,xs:12},r.a.createElement(F.a,{variant:"h4",align:"center"},"Sign up")),r.a.createElement(le.a,{style:{padding:".25em"},item:!0,xs:12},this.renderField("name","Name",{required:!0,type:"text"})),r.a.createElement(le.a,{style:{padding:".25em"},item:!0,xs:12},this.renderField("familyId","Family ID",{required:!0,type:"text"})),r.a.createElement(le.a,{style:{padding:".25em"},item:!0,xs:12},this.renderField("email","E-mail",{required:!0,type:"email"})),r.a.createElement(le.a,{style:{padding:".25em"},item:!0,xs:12},this.renderField("password","Password",{required:!0,type:"password"})),r.a.createElement(le.a,{style:{padding:".25em"},item:!0,xs:12},this.renderField("confirmPassword","Confirm Password",{required:!0,type:"password"})),r.a.createElement(le.a,{style:{padding:".25em"},item:!0,xs:12},r.a.createElement(F.a,{className:e.moduleSubheader,variant:"body2",align:"left"},"Use 6 or more characters with mix of letters, numbers & symbols.")),r.a.createElement(he.a,{type:"submit",variant:"contained"},"Sign up")))}}]),a}(n.Component),ve=Object(x.g)(Object(Ee.a)({gridContainer:{display:"flex",justifyContent:"center",width:"75%",margin:"0 auto"},gridRow:{padding:".25em"},moduleSubheader:{fontSize:".75rem",color:"#707070",marginBottom:"1em"},errorMsg:{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:".75rem",color:"red",backgroundColor:"#ffcccb",border:"1px solid red",width:"80%",padding:".5em 0",margin:"0 auto"},btn:{fontSize:"1rem"}})(ye)),Oe=function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).onFieldChange=function(e){return function(t){var a=t.target.value;n.setState((function(t){return Object(u.a)(Object(u.a)({},t),{},{values:Object(u.a)(Object(u.a)({},t.values),{},Object(I.a)({},e,a))})}))}},n.renderField=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.a.createElement(be.a,Object.assign({onChange:n.onFieldChange(e),variant:"standard",label:t,fullWidth:!0},a))},n.onSubmit=function(){var e=Object(fe.a)(ge.a.mark((function e(t){var a,r;return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n.setState({loading:!0}),a=n.state.values,e.prev=3,e.next=6,C.post("/user",a);case 6:n.setState({loading:!1}),e.next=14;break;case 9:return e.prev=9,e.t0=e.catch(3),S.NotificationManager.error(e.t0.response.data.message,"Error ".concat(e.t0.response.data.code),5e3),n.setState({loading:!1}),e.abrupt("return",null);case 14:return r=n.props.history,e.abrupt("return",r.replace("/signup-success"));case 16:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}(),n.state={values:{isAdmin:!0},loading:!1},n}return Object(y.a)(a,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement(le.a,{className:e.gridContainer,container:!0,spacing:2,align:"center"},r.a.createElement(le.a,{style:{padding:".25em"},item:!0,xs:12},r.a.createElement(F.a,{variant:"h4",align:"center"},"Sign up")),r.a.createElement(le.a,{style:{padding:".25em"},item:!0,xs:12},this.renderField("name","Name",{required:!0,type:"text"})),r.a.createElement(le.a,{style:{padding:".25em"},item:!0,xs:12},this.renderField("familyName","Family name",{required:!0,type:"text"})),r.a.createElement(le.a,{style:{padding:".25em"},item:!0,xs:12},this.renderField("email","E-mail",{required:!0,type:"email"})),r.a.createElement(le.a,{style:{padding:".25em"},item:!0,xs:12},this.renderField("password","Password",{required:!0,type:"password"})),r.a.createElement(le.a,{style:{padding:".25em"},item:!0,xs:12},this.renderField("confirmPassword","Confirm Password",{required:!0,type:"password"})),r.a.createElement(le.a,{style:{padding:".25em"},item:!0,xs:12},r.a.createElement(F.a,{className:e.moduleSubheader,variant:"body2",align:"left"},"Use 6 or more characters with mix of letters, numbers & symbols.")),r.a.createElement(he.a,{type:"submit",variant:"contained"},"Sign up")))}}]),a}(n.Component),je=Object(x.g)(Object(Ee.a)({gridContainer:{display:"flex",justifyContent:"center",width:"75%",margin:"0 auto"},moduleSubheader:{fontSize:".75rem",color:"#707070",marginBottom:"1em"},errorMsg:{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:".75rem",color:"red",backgroundColor:"#ffcccb",border:"1px solid red",width:"80%",padding:".5em 0",margin:"0 auto"},btn:{fontSize:"1rem"}})(Oe));function xe(e){var t=e.children,a=e.value,n=e.index,i=Object(se.a)(e,["children","value","index"]);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},i),a===n&&r.a.createElement(oe.a,{p:3},t))}function Se(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var we=Object(A.a)({root:{flexGrow:1,backgroundColor:"#fff",width:"60%",margin:"0 auto"},tab:{width:"50%",minWidth:"50%"},appBar:{background:"#fff",color:"#000"},indicator:{background:"#7556ee"}});var Ce=function(){var e=we(),t=r.a.useState(0),a=Object(k.a)(t,2),n=a[0],i=a[1];return r.a.createElement(ue.a,{className:e.root},r.a.createElement(_.a,{className:e.appBar,position:"static"},r.a.createElement(me.a,{classes:{indicator:e.indicator},value:n,onChange:function(e,t){i(t)}},r.a.createElement(de.a,Object.assign({classes:{root:e.tab},label:"Sign up & register family"},Se(0))),r.a.createElement(de.a,Object.assign({classes:{root:e.tab},label:"Sign up using family id"},Se(1))))),r.a.createElement(xe,{value:n,index:0},r.a.createElement(je,null)),r.a.createElement(xe,{value:n,index:1},r.a.createElement(ve,null)))},Ne=a(69),Fe=a.n(Ne),Ie=Object(A.a)({container:{display:"flex",alignItems:"center",minHeight:"calc(100vh - 64px)",marginTop:"64px",width:"100%"},outerGridContainer:{width:"75%",minHeight:"90%",margin:"0 auto",boxShadow:"5px 5px 5px #ccc"},leftColumn:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",background:"linear-gradient(45deg, #dae2f8, #d6a4a4)"},rightColumn:{display:"flex",justifyContent:"center"},signInLink:{fontWeight:"bold",margin:"1em auto"},image:{width:"60%"}}),ke=function(){var e=Ie();return r.a.createElement(r.a.Fragment,null,r.a.createElement(ie,null),r.a.createElement("div",{className:e.container},r.a.createElement(le.a,{className:e.outerGridContainer,container:!0},r.a.createElement(le.a,{className:e.leftColumn,item:!0,xs:12,sm:12,md:6},r.a.createElement("img",{className:e.image,src:Fe.a,alt:""}),r.a.createElement(F.a,{className:e.signInLink,variant:"body1",align:"center"},"Have an account yet?"," ",r.a.createElement(j.b,{to:"/signin"},"Sign in"))),r.a.createElement(le.a,{className:e.rightColumn,item:!0,xs:12,sm:12,md:6},r.a.createElement(Ce,null)))))},Ae=function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).onFieldChange=function(e){return function(t){var a=t.target.value;n.setState((function(t){return Object(u.a)(Object(u.a)({},t),{},{values:Object(u.a)(Object(u.a)({},t.values),{},Object(I.a)({},e,a))})}))}},n.renderField=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.a.createElement(be.a,Object.assign({onChange:n.onFieldChange(e),variant:"standard",label:t,fullWidth:!0},a))},n.onSubmit=function(){var e=Object(fe.a)(ge.a.mark((function e(t){var a,r,i,c;return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n.setState({loading:!0}),a=n.state.values,e.prev=3,e.next=6,C.post("/user/auth",a);case 6:r=e.sent,n.setState({loading:!1}),e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(3),S.NotificationManager.error(e.t0.response.data.message,"Error ".concat(e.t0.response.data.code),5e3),n.setState({loading:!1}),e.abrupt("return",null);case 15:return i=n.props,c=i.history,(0,i.signIn)(r.data),e.abrupt("return",c.replace("/dashboard"));case 18:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}(),n.state={values:{},msg:"",loading:!1},n}return Object(y.a)(a,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement(le.a,{className:e.gridContainer,container:!0,spacing:2,justify:"center"},r.a.createElement(le.a,{item:!0,xs:12},r.a.createElement(F.a,{variant:"h4",align:"center"},"Sign in")),r.a.createElement(le.a,{item:!0,xs:12},this.renderField("email","E-mail",{required:!0,type:"email"})),r.a.createElement(le.a,{item:!0,xs:12},this.renderField("password","Password",{required:!0,type:"password"})),r.a.createElement(he.a,{className:e.btn,type:"submit",variant:"contained"},"Sign in")))}}]),a}(n.Component),Le=Object(x.g)(Object(l.b)(null,{signIn:function(e){return function(t){t({type:"LOGIN_SUCCESS",payload:e})}}})(Object(Ee.a)({gridContainer:{display:"flex",justifyContent:"center",width:"75%",margin:"0 auto"},btn:{marginTop:"1em"}})(Ae))),_e=Object(A.a)({container:{display:"flex",alignItems:"center",minHeight:"calc(100vh - 64px)",marginTop:"64px",width:"100%"},outerGridContainer:{width:"75%",minHeight:"515px",margin:"0 auto",boxShadow:"5px 5px 5px #ccc"},leftColumn:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",background:"linear-gradient(45deg, #dae2f8, #d6a4a4)"},rightColumn:{display:"flex",justifyContent:"center",alignItems:"center"},signUpLink:{fontWeight:"bold",margin:"1em auto"},image:{width:"60%"}}),De=function(){var e=_e();return r.a.createElement(r.a.Fragment,null,r.a.createElement(ie,null),r.a.createElement("div",{className:e.container},r.a.createElement(le.a,{className:e.outerGridContainer,container:!0},r.a.createElement(le.a,{className:e.leftColumn,item:!0,xs:12,sm:12,md:6},r.a.createElement("img",{className:e.image,src:Fe.a,alt:""}),r.a.createElement(F.a,{className:e.signUpLink,variant:"body1",align:"center"},"Do not have an account?"," ",r.a.createElement(j.b,{to:"/signup"},"Sign up"))),r.a.createElement(le.a,{className:e.rightColumn,item:!0,xs:12,sm:12,md:6},r.a.createElement(Le,null)))))},Te=a(194),Ue=function(e){return function(t,a){t({type:"LOADING_FAMILY"}),C.get("/family/".concat(e),N(a)).then((function(e){return t({type:"GET_FAMILY",payload:e.data})}))}},Ge=function(e){return function(t,a){C.get("/family/".concat(e,"/budget"),N(a)).then((function(e){return t({type:"GET_BUDGET",payload:e.data})}))}},Pe=function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(e){var n;Object(E.a)(this,a);var r=(n=t.call(this,e)).props;return(0,r.getFamily)(r.familyId),n}return Object(y.a)(a,[{key:"render",value:function(){var e=this.props,t=e.family,a=e.isLoading,n=e.classes;return r.a.createElement("div",{className:n.container},r.a.createElement(ie,null),!a&&r.a.createElement(Te.a,null,r.a.createElement(le.a,{container:!0,spacing:2},r.a.createElement(le.a,{item:!0,xs:12,sm:12,md:3},r.a.createElement(ue.a,{className:n.paper,square:!0},r.a.createElement(F.a,{variant:"body2"},"Family name"),r.a.createElement(F.a,{variant:"h5"},t.name))),r.a.createElement(le.a,{item:!0,xs:12,sm:12,md:3},r.a.createElement(ue.a,{className:n.paper,square:!0},r.a.createElement(F.a,{variant:"body2"},"Family budget"),r.a.createElement(F.a,{variant:"h5"},t.budget,"$"))),r.a.createElement(le.a,{item:!0,xs:12,sm:12,md:6},r.a.createElement(ue.a,{className:n.paper,square:!0},r.a.createElement(F.a,{variant:"body2"},"Family ID"),r.a.createElement(F.a,{variant:"h5"},t._id)),r.a.createElement(F.a,{variant:"body2",align:"center"},"*If you want new members to join your family, they need to signup with this family ID.")))))}}]),a}(n.Component),Be=Object(l.b)((function(e){return{familyId:e.auth.user.familyId,family:e.family.family,isLoading:e.family.isLoading}}),{getFamily:Ue})(Object(Ee.a)({container:{marginTop:"64px"},paper:{padding:"1em",margin:"1em 0"}})(Pe)),qe=function(e){var t=e.component,a=e.isAuthenticated,n=Object(se.a)(e,["component","isAuthenticated"]);return r.a.createElement(x.b,Object.assign({},n,{render:function(e){return a?r.a.createElement(t,e):r.a.createElement(x.a,{to:"/signin"})}}))},Me=function(e){var t=e.component,a=e.isAuthenticated,n=Object(se.a)(e,["component","isAuthenticated"]);return r.a.createElement(x.b,Object.assign({},n,{render:function(e){return a?r.a.createElement(x.a,{to:"/dashboard"}):r.a.createElement(t,e)}}))},We=a(106),ze=a.n(We),Re=Object(A.a)({container:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",height:"100vh"},image:{width:"75%",maxWidth:"250px"}}),He=function(){var e=Re();return r.a.createElement("div",{className:e.container},r.a.createElement(ie,null),r.a.createElement("img",{className:e.image,src:ze.a,alt:""}),r.a.createElement(F.a,null,"You successfully signed up!"),r.a.createElement(F.a,null,"Now you can sign into your account."))},Ye=function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).onFieldChange=function(e){return function(t){var a=t.target.value;n.setState((function(t){return Object(u.a)(Object(u.a)({},t),{},{values:Object(u.a)(Object(u.a)({},t.values),{},Object(I.a)({},e,a))})}))}},n.renderField=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.a.createElement(be.a,Object.assign({onChange:n.onFieldChange(e),variant:"standard",label:t,fullWidth:!0},a))},n.onSubmit=function(){var e=Object(fe.a)(ge.a.mark((function e(t){var a,r,i,c,l;return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n.setState({loading:!0}),a=n.state.values,r=n.props.user,i=r.familyId,e.prev=5,e.next=8,C.put("/family/".concat(i,"/spending"),a,N(h.getState));case 8:n.setState({loading:!1}),e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(5),S.NotificationManager.error(e.t0.response.data.message,"Error ".concat(e.t0.response.data.code),5e3),n.setState({loading:!1}),e.abrupt("return",null);case 16:return c=n.props,l=c.history,(0,c.getFamilyBudget)(i),S.NotificationManager.success("Your budget has been updated.","Success",5e3),e.abrupt("return",l.replace("/dashboard"));case 20:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(t){return e.apply(this,arguments)}}(),n.state={values:{},msg:"",loading:!1},n}return Object(y.a)(a,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement(ue.a,{className:e.paper},r.a.createElement(le.a,{className:e.gridContainer,container:!0,spacing:2,justify:"center"},r.a.createElement(le.a,{item:!0,xs:12},r.a.createElement(F.a,{variant:"h4",align:"center"},"Add spending")),r.a.createElement(le.a,{item:!0,xs:12},this.renderField("spentAmount","Spent amount in $",{required:!0,type:"text"})),r.a.createElement(he.a,{className:e.btn,type:"submit",variant:"contained"},"Add spending"))))}}]),a}(n.Component),$e=Object(x.g)(Object(l.b)((function(e){return{user:e.auth.user}}),{getFamilyBudget:Ge})(Object(Ee.a)({paper:{padding:"2.5em",width:"50%",margin:"2em auto"},gridContainer:{display:"flex",justifyContent:"center",width:"100%",maxWidth:"350px",margin:"0 auto"},btn:{marginTop:"1em"}})(Ye))),Xe=function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(e){var n;Object(E.a)(this,a);var r=(n=t.call(this,e)).props;return(0,r.getFamily)(r.familyId),n}return Object(y.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{style:{marginTop:"64px"}},r.a.createElement(ie,null),r.a.createElement($e,null))}}]),a}(n.Component),Je=Object(l.b)((function(e){return{familyId:e.auth.user.familyId}}),{getFamily:Ue})(Xe),Ve=function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).onFieldChange=function(e){return function(t){var a=t.target.value;n.setState((function(t){return Object(u.a)(Object(u.a)({},t),{},{values:Object(u.a)(Object(u.a)({},t.values),{},Object(I.a)({},e,a))})}))}},n.renderField=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.a.createElement(be.a,Object.assign({onChange:n.onFieldChange(e),variant:"standard",label:t,fullWidth:!0},a))},n.onSubmit=function(){var e=Object(fe.a)(ge.a.mark((function e(t){var a,r,i,c,l;return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n.setState({loading:!0}),a=n.state.values,r=n.props.user,i=r.familyId,e.prev=5,e.next=8,C.put("/family/".concat(i,"/fund"),a,N(h.getState));case 8:n.setState({loading:!1}),e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(5),S.NotificationManager.error(e.t0.response.data.message,"Error ".concat(e.t0.response.data.code),5e3),n.setState({loading:!1}),e.abrupt("return",null);case 16:return c=n.props,l=c.history,(0,c.getFamilyBudget)(i),S.NotificationManager.success("Your budget has been updated.","Success",5e3),e.abrupt("return",l.replace("/dashboard"));case 20:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(t){return e.apply(this,arguments)}}(),n.state={values:{},msg:"",loading:!1},n}return Object(y.a)(a,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement(ue.a,{className:e.paper},r.a.createElement(le.a,{className:e.gridContainer,container:!0,spacing:2,justify:"center"},r.a.createElement(le.a,{item:!0,xs:12},r.a.createElement(F.a,{variant:"h4",align:"center"},"Add fund")),r.a.createElement(le.a,{item:!0,xs:12},this.renderField("newFund","New fund amount in $",{required:!0,type:"text"})),r.a.createElement(he.a,{className:e.btn,type:"submit",variant:"contained"},"Add fund"))))}}]),a}(n.Component),Ke=Object(x.g)(Object(l.b)((function(e){return{user:e.auth.user}}),{getFamilyBudget:Ge})(Object(Ee.a)({gridContainer:{display:"flex",justifyContent:"center",width:"100%",maxWidth:"350px",margin:"0 auto"},btn:{marginTop:"1em"},paper:{width:"50%",padding:"2.5em",margin:"2em auto"}})(Ve))),Qe=function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(e){var n;Object(E.a)(this,a);var r=(n=t.call(this,e)).props;return(0,r.getFamily)(r.familyId),n}return Object(y.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{style:{marginTop:"64px"}},r.a.createElement(ie,null),r.a.createElement(Ke,null))}}]),a}(n.Component),Ze=Object(l.b)((function(e){return{familyId:e.auth.user.familyId}}),{getFamily:Ue})(Qe),et=function(){return r.a.createElement("div",{style:{marginTop:"64px"}},r.a.createElement(ie,null),r.a.createElement(F.a,{variant:"h1",align:"center"},"404"),r.a.createElement(F.a,{variant:"h3",align:"center"},"Page Not Found"))},tt=function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).initApp=function(){var e=n.props.initApp;h.dispatch((function(e,t){e({type:"USER_LOADING"}),C.get("/user/current",N(t)).then((function(t){return e({type:"USER_LOADED",payload:t.data})})).catch((function(){return e({type:"USER_NOT_LOADED"})}))})),e()},n.initApp(),n}return Object(y.a)(a,[{key:"render",value:function(){var e=this.props,t=e.isAppInitialized,a=e.isAuthenticated,n=e.isLoading;return!t||n?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,null,r.a.createElement(x.d,null,r.a.createElement(x.b,{path:"/",component:ce,exact:!0}),r.a.createElement(Me,{path:"/signup",component:ke,isAuthenticated:a,exact:!0}),r.a.createElement(Me,{path:"/signin",component:De,isAuthenticated:a,exact:!0}),r.a.createElement(Me,{path:"/signup-success",component:He,isAuthenticated:a,exact:!0}),r.a.createElement(qe,{path:"/dashboard",component:Be,isAuthenticated:a,exact:!0}),r.a.createElement(qe,{path:"/add-spending",component:Je,isAuthenticated:a,exact:!0}),r.a.createElement(qe,{path:"/add-fund",component:Ze,isAuthenticated:a,exact:!0}),r.a.createElement(x.b,{path:"/404",component:et}),r.a.createElement(x.a,{to:"/404"}))),r.a.createElement(S.NotificationContainer,null))}}]),a}(n.Component),at=Object(l.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,isAppInitialized:e.app.isAppInitialized,isLoading:e.auth.isLoading}}),{initApp:function(){return{type:"INIT_APP"}}})(tt);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(l.a,{store:h},r.a.createElement(at,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},69:function(e,t,a){e.exports=a.p+"static/media/LeftColumnImage.7179dab9.svg"}},[[116,1,2]]]);
//# sourceMappingURL=main.ced34ec6.chunk.js.map